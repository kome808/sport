# 人體地圖套件整合與優化報告

## 變更摘要

為了解決原先人體圖示不美觀且與線上版本不符的問題，我們已經將 `Custom SVG Body Map` 替換為 `react-body-highlighter` 套件。

### 主要變更

### 1. 導入 `react-body-highlighter`
- **套件安裝**: 已安裝 `react-body-highlighter`。
- **組件重構**: 重寫 `BodyMapSelector.tsx`，使用套件提供的 `Model` 組件進行渲染。
- **雙視角顯示**: 同時顯示正面 (Anterior) 與背面 (Posterior) 模型，提供更完整的身體部位選擇。

### 2. 優化選擇邏輯
- **側邊選擇器**: 由於套件模型是以肌群為主（通常對稱），我們新增了「左側 / 右側」切換按鈕。
  - 使用者需先選擇側邊（左或右），再點擊身體部位。
  - 系統會自動將部位 ID 加上 `_l` 或 `_r` 後綴（例如：點擊手臂 + 左側 = `arm_l`）。
- **肌群映射**: 建立了專屬的映射表，將套件的肌肉名稱（如 `biceps`, `quadriceps`）映射到系統內部的部位 ID（如 `arm`, `thigh`）。

### 3. 表單更新
- **新增部位支援**: `PainReportForm` 已更新，新增支援 `chest` (胸部) 等部位的中文標籤。
- **標籤對應**:
    - `chest_l/r`: 左/右胸
    - `abs/obliques`: 腹肌/側腹 (對應核心)
    - `back_upper/lower`: 上/下背

## 驗證項目

請協助驗證以下流程：

1. **進入疼痛回報頁面**：確認人體圖是否已變更為新的 3D/肌肉風格模型。
2. **測試部位選擇**：
   - 點擊「左側」按鈕。
   - 點擊模型上的「手臂 (Biceps)」。
   - 確認下方顯示「已選擇: 左手臂 (或左大臂)」。
3. **測試提交**：確認選擇的部位能正確提交並儲存。

## 注意事項

- **關節選擇**: 由於套件以肌肉為主，"手肘" 與 "手腕" 等關節可能需要點擊鄰近肌肉（如手臂或前臂）來代表，或者我們將其映射範圍擴大。目前建議點擊對應區域。
- **腳部選擇**: 腳掌區域可能較難點擊（視套件支援度），若無法精確選擇，可建議球員選擇「小腿」並在描述中備註。
